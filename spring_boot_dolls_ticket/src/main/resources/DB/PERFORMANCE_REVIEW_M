CREATE TABLE PERFORMANCE_REVIEW_M (
    PERFORMANCE_ID VARCHAR2(20)
    ,CUST_ID VARCHAR2(20)
    ,REVIEW_SEQ NUMBER(4)
    ,REVIEW_MESSAGE VARCHAR2(1000)
    ,REVIEW_SCORE NUMBER(1)
    ,FIRST_CHANGE_DATE DATE
    ,LAST_CHANGE_DATE DATE
    ,CONSTRAINT PERFORMANCE_REVIEW_M_FK1 FOREIGN KEY (PERFORMANCE_ID) 
        REFERENCES PERFORMANCE_INFO_M(PERFORMANCE_ID)
    ,CONSTRAINT PERFORMANCE_REVIEW_M_FK2 FOREIGN KEY (CUST_ID) 
        REFERENCES MEMBER(CUST_ID)
    ,CONSTRAINT PERFORMANCE_REVIEW_M_PK PRIMARY KEY (PERFORMANCE_ID, CUST_ID, REVIEW_SEQ)
);

CREATE SEQUENCE REVIEW_SEQ_INCREMENT START WITH 1 INCREMENT BY 1;

CREATE OR REPLACE TRIGGER TRG_REVIEW_SEQ
BEFORE INSERT ON PERFORMANCE_REVIEW_M
FOR EACH ROW
BEGIN
    :NEW.REVIEW_SEQ := REVIEW_SEQ_INCREMENT.NEXTVAL;
END;
